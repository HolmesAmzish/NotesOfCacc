---
title： 无线传感网与 TinyOS
date: 2025-04-14
---

## 无线传感网 第三次作业

#### **1. 在进行无限传感器网络 MAC 设计时主要需要考虑哪些因素？详细说明原因。**

媒体接入控制层（MAC层）的设计直接决定了网络的能效、时延、吞吐量和可靠性。

- 能耗控制

  WSN 节点多部署在电池供电的无人环境，电池更换困难，因此MAC协议需要最小化能耗，以延长节点和整个网络的生命周期。

  能耗来源于空闲监听，碰撞，控制开销和过早唤醒与延迟唤醒。应该采取周期性休眠机制（如 S-MAC）或基于时间唤醒的异步方式（如B-MAC）。

- 网络拓扑的动态性

  节点可能由于能量耗尽或者环境变化而离网或加入。MAC协议需要具备拓扑适应性与自组织能力，如使用分布式调度方式。

- 低延迟和可靠性

  某些应用（如火灾预警）对实时性要求高。需要通过优先级调度、冲突避免机制（如 CSMA/CA）等手段减少时延，并通过确认 ACK 机制来确保传输成功。

- 带宽利用率与吞吐量

  WSN 的物理带宽有限，需要高效利用。MAC 协议需减少冲突、重传与控制帧冗余，优化数据通道的调度。

- 公平性

  保证不同节点有公平的访问机会，防止饥饿节点长期无法传输数据。

- 可扩展性



#### **2. 详细分析无线通信中隐藏站和暴露站的成因，如何缓解这两个问题？**

**隐藏站问题**

成因： A C 可与 B 节点通信，但是 A C 无法不在彼此的传输范围内。如果 A C 同时向 B 发送信息会导致数据冲突。导致数据帧碰撞，增加重传次数，降低网络吞吐率与能效。

解决措施：

- RTS/CTS机制：A 发送 RTS 请求，B 回应 CTS，邻近节点接收到CTS后进入阻塞状态避免同时发送。
- 方向性天线或功率控制：通过调整发射功率，或者使用定向天线，限制干扰范围。
- TDMA/FHSS等基于调度的协议：使用时分或频分避免同时发送。

**暴露站问题**

成因：B C 可通信，节点 A 与 B 通信，C 监听到 A的信号就不发送数据，即使目标D 与 A 不冲突，误判冲突而导致不必要的延迟。信道利用率下降，导致吞吐量降低。

缓解措施：

- 智能载波侦听与NAV时间窗口分析：分析CTS帧的目的地址和持续时间；若不是自己的邻居，则可继续发送。
- 分区传输：基于地理或信道空间划分，避免误阻。
- 使用多信道MAC或FDMA：暴露站可使用另一个信道传输数据，避免冲突。



#### **3. 分类描述 IEEE 802.15.4 基带信号的处理过程。**

IEEE 802.15.4 是低速低功耗无线网络（如 Zigbee）的物理与MAC层标准。其基带信号处理包括发射与接收两部分，关键流程如下：

**（1）发送端基带处理流程：**

A. **数据帧构建（MAC层）**

生成MAC帧，包括帧头、地址、控制字段、有效负载、FCS等。

B. **比特映射与符号映射（Symbol Mapping）**

2.4GHz频段采用 **O-QPSK（Offset QPSK）调制**，比特速率250kbps。4比特 → 1个符号（16-QAM等效）。

C. **扩频（DSSS）**

每个符号对应一组**32个芯片（chip）**，使用直接序列扩频（Direct Sequence Spread Spectrum）：增加抗干扰能力；提高频谱利用率；易于同步。

D. **调制（Modulation）**

使用 O-QPSK，将 I/Q 信号分别延迟 0.5 symbol time；提高频谱效率，简化接收机设计。

E. **发送至RF前端**

数字信号转换为模拟，经功率放大器和天线发射。



**（2）接收端基带处理流程：**

A. **接收信号（RF解调）**

从天线接收模拟信号，经过低噪声放大器（LNA）→模拟-数字转换（ADC）。

B. **解调（Demodulation）**

使用 O-QPSK 解调器提取 I/Q 分量；

还原为符号流。

C. **解扩（De-spreading）**

使用匹配的伪随机码序列恢复原始符号（chip → symbol）。

D. **符号映射与解码**

将符号映射回二进制比特流（symbol → bits）。

E. **MAC帧解析**

完整还原数据帧，提交MAC层处理。



#### **4. S-MAC 协议采用了哪些机制来减少网络节点能耗？进行一定的描述分析。**

S-MAC（Sensor-MAC）是专为无线传感器网络设计的MAC协议，其目标是最大限度降低节点能耗。主要采用以下机制：

**（1）周期性睡眠（Periodic Sleep/Listen）**

节点周期性进入**睡眠与监听状态**，减少空闲监听带来的能量浪费。所有邻居同步休眠周期，降低冲突和唤醒次数。通过**Duty Cycle（工作周期）调整**平衡能耗与延迟；缺点是可能导致数据传输延迟增加。

**（2）虚拟载波侦听（Virtual Carrier Sensing）**

使用 **RTS/CTS机制** 建立虚拟信道；邻居节点读取帧中的NAV（Network Allocation Vector）字段决定是否沉默。降低隐藏站碰撞概率；防止非目标节点接收无用数据，减少**过听（Overhearing）**。

**（3）消息合并（Message Passing）**

将多个小数据包合并为一个大包统一发送。减少控制帧开销和上下文切换，提高能效；适合周期性监测任务，但对低时延要求的应用不适用。

**（4）邻居同步（Schedule Synchronization）**

邻居节点通过广播**同步包（SYNC）**，共享休眠计划。提高网络协同效率；但同步过程本身也会带来一定能量开销，需要合理设计同步间隔。

**（5）适配机制（Adaptive Listening）**

在接收到邻居数据之后，**短时间保持监听状态**，以便快速响应后续通信。在保持低能耗的同时，尽量减少延迟；是休眠机制与实时性的折中策略。
---
title: 操作系统习题5
date: 2025-04-14
---

**5. 在固定分区管理中，当有 1KB、9KB、33KB 和 121KB 四个进程要求进入系统时，试分析贮存空间的分配情况，并说明主存的浪费有多大？**

四个进程分别进入1、2、3、4分区。主存的浪费达到：
$$
600 - 20 - (1 + 9 + 33 + 121) = 416(\text{KB})
$$


**6. 在动态分区管理中，当有 1KB、9KB、33KB 和 121KB 四个进程要求进入系统时，试分析主存空间的分配情况。**

动态分区管理根据进程执行需求逐一将 580 KB 主存分割下来分配给各进程，最终还会有 416 KB 空闲区来容纳心进程。



**19. 虚拟存储器的容量可以大于主存容量加外存容量的总和么？**

不可以，理论上 64 位系统虚拟地址空间可以达到 $2^{64}$ 字节，但是虚拟存储器的实现依赖于主存和外存作为实质的存储介质。理论上实际的虚拟存储器容量受限于内存 + 外存的总和。实际上现代计算机外存交换文件的大小是内存的一到两倍。



**22. 如果一个作业在执行过程中，按下列的页号一次访问主存：1、2、3、4、2、1、5、6、2、1、2、3、7、6、3、2、1、2、3、6。作业固定占用四个主存页块，试问分别采用 FIFO、LRU、Clock 和 OPT 算法时，各产生多少次缺页中断？并计算相应的缺页中断率，同时写出在这四种调度算法下产生缺页中断时淘汰的页面号和在主存的页面号。**

共20个操作页面，4个页框。

1. **FIFO（First In First Out)**

   | 访问次序 | 主存页号     | 是否缺页 | 淘汰页面 |
   | -------- | ------------ | -------- | -------- |
   | 1        | [1, -, -, -] | t        |          |
   | 2        | [1, 2, -, -] | t        |          |
   | 3        | [1, 2, 3, -] | t        |          |
   | 4        | [1, 2, 3, 4] | t        |          |
   | 2        | [1, 2, 3, 4] | f        |          |
   | 1        | [1, 2, 3, 4] | f        |          |
   | 5        | [5, 2, 3, 4] | t        | 1        |
   | 6        | [5, 6, 3, 4] | t        | 2        |
   | 2        | [5, 6, 2, 4] | t        | 3        |
   | 1        | [5, 6, 2, 1] | t        | 4        |
   | 2        | [5, 6, 2, 1] | f        |          |
   | 3        | [3, 6, 2, 1] | t        | 3        |
   | 7        | [3, 7, 2, 1] | t        | 6        |
   | 6        | [3, 7, 6, 1] | t        | 2        |
   | 3        | [3, 7, 6, 1] | f        |          |
   | 2        | [3, 7, 6, 2] | t        | 1        |
   | 1        | [1, 7, 6, 2] | t        | 3        |
   | 2        | [1, 7, 6, 2] | f        | 3        |
   | 3        | [1, 3, 6, 2] | t        | 7        |
   | 6        | [1, 3, 6, 2] | f        |          |

   缺页中断率为：
   $$
   \frac{14}{20} \times 100\% = 70\%
   $$

2. **LRU（Least Recent Used)**

   | 访问次序 | 主存页号     | 是否缺页 | 淘汰页面 |
   | -------- | ------------ | -------- | -------- |
   | 1        | [1, -, -, -] | t        |          |
   | 2        | [1, 2, -, -] | t        |          |
   | 3        | [1, 2, 3, -] | t        |          |
   | 4        | [1, 2, 3, 4] | t        |          |
   | 2        | [1, 2, 3, 4] | f        |          |
   | 1        | [1, 2, 3, 4] | f        |          |
   | 5        | [1, 2, 5, 4] | t        | 3        |
   | 6        | [1, 2, 5, 6] | t        | 4        |
   | 2        | [1, 2, 5, 6] | f        |          |
   | 1        | [1, 2, 5, 6] | f        |          |
   | 2        | [1, 2, 5, 6] | f        |          |
   | 3        | [1, 2, 3, 6] | t        | 5        |
   | 7        | [1, 2, 3, 7] | t        | 6        |
   | 6        | [6, 2, 3, 7] | t        | 1        |
   | 3        | [6, 2, 3, 7] | f        |          |
   | 2        | [6, 2, 3, 7] | f        |          |
   | 1        | [6, 2, 3, 1] | t        | 7        |
   | 2        | [6, 2, 3, 1] | f        |          |
   | 3        | [6, 2, 3, 1] | f        |          |
   | 6        | [6, 2, 3, 1] | f        |          |

   缺页次数：10次，缺页中断率：$\frac{10}{20} \times 100\% = 50\%$

3. Clock

   | 访问次序 | 主存页号     | R 位         | 是否缺页 | 淘汰页面 |
   | -------- | ------------ | ------------ | -------- | -------- |
   | 1        | [1, -, -, -] | [1, -, -, -] | t        |          |
   | 2        | [1, 2, -, -] | [1, 1, -, -] | t        |          |
   | 3        | [1, 2, 3, -] | [1, 1, 1, -] | t        |          |
   | 4        | [1, 2, 3, 4] | [1, 1, 1, 1] | t        |          |
   | 2        | [1, 2, 3, 4] | [1, 1, 1, 1] | f        |          |
   | 1        | [1, 2, 3, 4] | [1, 1, 1, 1] | f        |          |
   | 5        | [5, 2, 3, 4] | [1, 0, 0, 0] | t        | 1        |
   | 6        | [5, 6, 3, 4] | [1, 1, 0, 0] | t        | 2        |
   | 2        | [5, 6, 2, 4] | [1, 1, 1, 0] | t        | 3        |
   | 1        | [5, 6, 2, 1] | [1, 1, 1, 1] | t        | 4        |
   | 2        | [5, 6, 2, 1] | [1, 1, 1, 1] | f        |          |
   | 3        | [3, 6, 2, 1] | [1, 0, 0, 0] | t        | 5        |
   | 7        | [3, 7, 2, 1] | [1, 1, 0, 0] | t        | 6        |
   | 6        | [3, 7, 6, 1] | [1, 1, 1, 0] | t        | 2        |
   | 3        | [3, 7, 6, 1] | [1, 1, 1, 0] | f        |          |
   | 2        | [3, 7, 6, 2] | [1, 1, 1, 1] | t        | 1        |
   | 1        | [1, 7, 6, 2] | [1, 0, 0, 0] | t        | 3        |
   | 2        | [1, 7, 6, 2] | [1, 0, 0, 0] | f        |          |
   | 3        | [1, 3, 6, 2] | [1, 1, 0, 0] | t        | 7        |
   | 6        | [1, 3, 6, 2] | [1, 1, 0, 0] | f        |          |

   缺页次数：14次，缺页中断率为：$\frac{14}{20} \times 100\% = 70\%$

4. **OPT（Optimal Page Replacement）**

   | 访问次序 | 主存页号     | 是否缺页 | 淘汰页面 |
   | -------- | ------------ | -------- | -------- |
   | 1        | [1, -, -, -] | t        |          |
   | 2        | [1, 2, -, -] | t        |          |
   | 3        | [1, 2, 3, -] | t        |          |
   | 4        | [1, 2, 3, 4] | t        |          |
   | 2        | [1, 2, 3, 4] | f        |          |
   | 1        | [1, 2, 3, 4] | f        |          |
   | 5        | [1, 2, 3, 5] | t        | 4        |
   | 6        | [1, 2, 3, 6] | t        | 5        |
   | 2        | [1, 2, 3, 6] | f        |          |
   | 1        | [1, 2, 3, 6] | f        |          |
   | 2        | [1, 2, 3, 6] | f        |          |
   | 3        | [1, 2, 3, 6] | f        |          |
   | 7        | [7, 2, 3, 6] | t        | 1        |
   | 6        | [7, 2, 3, 6] | f        |          |
   | 3        | [7, 2, 3, 6] | f        |          |
   | 2        | [7, 2, 3, 6] | f        |          |
   | 1        | [1, 2, 3, 6] | t        | 7        |
   | 2        | [1, 2, 3, 6] | f        |          |
   | 3        | [1, 2, 3, 6] | f        |          |
   | 6        | [1, 2, 3, 6] | f        |          |

   缺页次数：8次，缺页中断率：$\frac{8}{20} \times 100\% = 40\%$
## 网络科学第二次实验报告

### 一、上机题目

加强Matlab编程基础

### 二、上机目的

1 进一步熟悉Matlab编程上机环境，敲入如下代码观察执行结果，熟悉操作，上机报告中给出运行结果截图即可。
2 在Matlab 环境下，单步执行上机1中的程序代码（见附后）。

### 三、上机程序

#### 进一步熟悉Matlab编程环境

##### 1. 矩阵的生成

**使用方括号操作符产生一个列向量x。**

```
>> x = [1; 2; 4; 7]

x =

     1
     2
     4
     7
```

**使用方括号操作符产生一个行向量x。**

```
>> x = [1, 2, 4, 7]

x =

     1     2     4     7
     
```

**使用冒号操作符产生一个行向量。**

```
>> x = [9:-2:1]

x =

     9     7     5     3     1
     
```

**使用方括号产生一个二维数组A。**

```
>> A = [9, 4, 5, 1; 1, 0, 4, 7]

A =

     9     4     5     1
     1     0     4     7

>> a = [9, 4, 5, 1]

a =

     9     4     5     1

>> b = [1, 0, 4, 7]

b =

     1     0     4     7

>> A = [a; b]

A =

     9     4     5     1
     1     0     4     7
     
```

**使用zeros函数产生一个`3*2`的二维数组A，使用ones函数产生一个`3*4`的二维数组B，将A与B拼接成`3*6`的二维数组C**

```
>> A = zeros(3, 2)

A =

     0     0
     0     0
     0     0

>> B = ones(3, 4)

B =

     1     1     1     1
     1     1     1     1
     1     1     1     1

>> C = [A, B]

C =

     0     0     1     1     1     1
     0     0     1     1     1     1
     0     0     1     1     1     1
```

**使用rand函数产生一个`3*4`的二维数组A，使用逻辑表示的方式寻访A矩阵中大于0.3并小于0.7的所有元素，赋给B**

```
>> A = rand(3, 4)

A =

    0.8147    0.9134    0.2785    0.9649
    0.9058    0.6324    0.5469    0.1576
    0.1270    0.0975    0.9575    0.9706

>> B = A > 0.3 & A < 0.7

B =

  3×4 logical 数组

   0   0   0   0
   0   1   1   0
   0   0   0   0
   
```



##### 2. 矩阵定位函数

```
>> X = [3, 2, 0; -5, 6, 1]

X =

     3     2     0
    -5     6     1


>> indices = find(X >= 1)

indices =

     1
     3
     4
     6
     
```

```
>> [row, col] = find(X >= 1)

row =

     1
     1
     2
     2



col =

     1
     2
     2
     3
     
```

```
>> [row, col, value] = find(X >= 1)

row =

     1
     1
     2
     2



col =

     1
     2
     2
     3



value =

  4x1 logical 数组

   1
   1
   1
   1
   
```



##### 3. 子矩阵的赋值、删除与操作

已知矩阵A

```
>> load('matrix_A.mat')
>> A

A =

     1    25     7    20
    14    23     6    18
    12    23    15    16
    20    10     5     9
    
```

**给A中第六个元素赋值位100**

```
>> A(6) = 100

A =

     1    25     7    20
    14   100     6    18
    12    23    15    16
    20    10     5     9
    
```

**给A中第五列元素赋值**

```
>> A(:,5) = [1; 2; 3; 4]

A =

     1    25     7    20     1
    14   100     6    18     2
    12    23    15    16     3
    20    10     5     9     4
    
```

**将矩阵A第2-4行中第1，3，5列元素赋值给矩阵B**

```
>> B = A((2:4), [1:2:5])

B =

    14     6     2
    12    15     3
    20     5     4
    
```

**求矩阵A的大小**

```
>> [row, col] = size(A)

row =

     4


col =

     5
     
```

**将矩阵A赋值给矩阵C，删除C的第一行和第三行并显示**

```
>> C = A

C =

     1    25     7    20     1
    14   100     6    18     2
    12    23    15    16     3
    20    10     5     9     4

>> C([1, 3],:) = []

C =

    14   100     6    18     2
    20    10     5     9     4
    
```

**将矩阵A重排成5行4列的矩阵**

```
>> A = reshape(A, 5, 4)

A =

     1   100    15     9
    14    23     5     1
    12    10    20     2
    20     7    18     3
    25     6    16     4

```



##### 4. 常用函数

**向量的大小**

```
>> x = [3, 2, 1, 0]

x =

     3     2     1     0

>> a = length(x)

a =

     4

>> b = size(x, 1)

b =

     1

>> c = size(x, 2)

c =

     4

>> s = sum(x)

s =

     6

```

**矩阵的大小**

```
>> x = [3, 2, 1, 0; 5, 6, 8, 7]

x =

     3     2     1     0
     5     6     8     7

>> b = size(x, 1)

b =

     2

>> c = size(x, 2)

c =

     4

>> d = size(x, 3)

d =

     1

>> s = sum(x)

s =

     8     8     9     7

>> s2 = sum(x(:))

s2 =

    32

```



##### 5. 函数编写

```matlab
%   program: sum_array.m
%     param: vector
%    return: the sum of all elements which is greater than 0
%      date: 2024-11-12

function sum_array = sum_array(arr)
sum_array = sum(arr(arr > 0));
end
```

运行结果：

```
>> x = [-1, 0, 2, 3, -5, 4]

x =

    -1     0     2     3    -5     4

>> sum_array(x)

ans =

     9

```

#### 单步执行实验一代码

##### 设置断点

![image-20241112183634471](C:\Users\Holme\AppData\Roaming\Typora\typora-user-images\image-20241112183634471.png)

##### 步进

![image-20241112183715922](C:\Users\Holme\AppData\Roaming\Typora\typora-user-images\image-20241112183715922.png)

##### 查看变量

![image-20241112183801834](C:\Users\Holme\AppData\Roaming\Typora\typora-user-images\image-20241112183801834.png)

![image-20241112183941475](C:\Users\Holme\AppData\Roaming\Typora\typora-user-images\image-20241112183941475.png)



### 四、上机总结

在本次实验中，通过实现和测试多个基础的MATLAB操作，我进一步熟悉了MATLAB编程环境，尤其是对矩阵操作的理解和应用。这次实验涵盖了矩阵的创建、访问、修改、操作和函数编写等方面，并通过分步执行和断点调试方法深入了解了程序的执行过程和变量状态的变化情况。

在具体实现过程中，我主要有以下几点收获：

1. **矩阵创建与操作**：通过实验进一步掌握了矩阵的创建方法，学会了使用方括号、冒号、zeros、ones、rand等方式快速生成各种类型的矩阵，并熟悉了元素访问和修改的技巧。例如，使用逻辑索引可以方便地获取符合条件的元素，这是MATLAB中的强大功能之一。

2. **逻辑与定位函数**：find函数在矩阵的定位操作中非常高效，可以快速找到满足条件的元素的索引及其位置。通过定位函数的练习，我对矩阵元素的操作有了更深入的理解，例如单独获取符合条件的元素值或位置的应用。

3. **子矩阵与删除操作**：在处理矩阵的子矩阵赋值、删除操作时，通过操作不同维度的子矩阵并赋值到新矩阵中，可以有效掌握MATLAB对矩阵维度变化的处理逻辑。

4. **自定义函数编写**：编写简单的MATLAB函数让我了解到如何实现代码模块化。sum_array函数是一个简单但有效的练习，通过参数的传递与结果的返回，掌握了MATLAB函数的基本构造和调用方式。

5. **调试与变量查看**：通过设置断点和单步调试的方法，我对代码的执行过程有了更直观的理解。调试过程中的变量查看可以帮助我理解代码执行到不同步骤时变量状态的变化。这对日后处理复杂程序时的代码错误定位和问题分析将会有很大帮助。

在整个实验过程中，MATLAB的矩阵操作和调试功能为我提供了便捷的编程体验，让我对MATLAB环境有了更深入的了解。

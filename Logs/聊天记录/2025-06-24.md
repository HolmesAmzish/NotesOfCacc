ä½¿ç”¨ **Vite + Electron + React** æ­å»ºä¸€ä¸ªæ¡Œé¢åº”ç”¨æ˜¯ä¸€ç§éå¸¸ç°ä»£ã€é«˜æ•ˆçš„æ–¹å¼ã€‚ä¸‹é¢æ˜¯ä»é›¶å¼€å§‹åˆ›å»ºè¿™æ ·ä¸€ä¸ªé¡¹ç›®çš„å®Œæ•´æµç¨‹ï¼ŒåŒ…æ‹¬æ–‡ä»¶ç»“æ„ã€é…ç½®å’Œç¤ºä¾‹ä»£ç ã€‚

---

## âœ… æ•´ä½“æ¦‚è§ˆ

æˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªé¡¹ç›®ï¼ŒåŒ…å«ï¼š

* ğŸ“¦ å‰ç«¯ï¼šReact + Vite
* ğŸ–¥ åç«¯ï¼šElectron ä¸»è¿›ç¨‹
* ğŸ”„ è„šæœ¬ï¼šä½¿ç”¨ `electron-builder` æˆ– `electron` å¯åŠ¨

---

## âœ… ç¬¬ä¸€æ­¥ï¼šåˆ›å»º Vite React é¡¹ç›®

```bash
npm create vite@latest electron-react-app -- --template react
cd electron-react-app
npm install
```

---

## âœ… ç¬¬äºŒæ­¥ï¼šå®‰è£… Electron åŠç›¸å…³ä¾èµ–

```bash
npm install electron --save-dev
```

---

## âœ… ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ  Electron ä¸»è¿›ç¨‹æ–‡ä»¶

åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º `electron/main.js` æ–‡ä»¶ï¼š

```js
const { app, BrowserWindow } = require('electron');
const path = require('path');

function createWindow() {
  const win = new BrowserWindow({
    width: 800,
    height: 600,
    webPreferences: {
      preload: path.join(__dirname, 'preload.js'),
      contextIsolation: true,
    },
  });

  // å¼€å‘ç¯å¢ƒåŠ è½½ Vite æœ¬åœ°åœ°å€
  if (process.env.NODE_ENV === 'DEV') {
    win.loadURL('http://localhost:5173');
  } else {
    // ç”Ÿäº§ç¯å¢ƒåŠ è½½æ‰“åŒ…åçš„ index.html
    win.loadFile(path.join(__dirname, '../dist/index.html'));
  }
}

app.whenReady().then(createWindow);

app.on('window-all-closed', () => {
  if (process.platform !== 'darwin') app.quit();
});
```

---

## âœ… ç¬¬å››æ­¥ï¼šæ·»åŠ  preload è„šæœ¬ï¼ˆå¯é€‰ï¼‰

`electron/preload.js`ï¼š

```js
// è¿™ä¸ªè„šæœ¬å¯ä»¥ç”¨äºæš´éœ²å®‰å…¨ API ç»™å‰ç«¯
window.addEventListener('DOMContentLoaded', () => {
  console.log('Electron Preload Loaded');
});
```

---

## âœ… ç¬¬äº”æ­¥ï¼šä¿®æ”¹ `package.json` è„šæœ¬

```json
{
  "name": "electron-react-app",
  "version": "0.0.1",
  "main": "electron/main.js",
  "scripts": {
    "dev": "concurrently \"vite\" \"npm run electron-dev\"",
    "electron-dev": "cross-env NODE_ENV=DEV electron .",
    "build": "vite build",
    "start": "electron ."
  },
  "devDependencies": {
    "concurrently": "^8.0.1",
    "cross-env": "^7.0.3",
    "electron": "^28.1.0",
    "vite": "^5.2.0"
  }
}
```

å®‰è£…å¹¶å‘å·¥å…·ï¼š

```bash
npm install concurrently cross-env --save-dev
```

---

## âœ… ç¬¬å…­æ­¥ï¼šReact/Vite é»˜è®¤å…¥å£ä¿æŒä¸å˜

ç¡®ä¿ `main.jsx` æ­£å¸¸ï¼š

```jsx
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import './index.css';

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
```

---

## âœ… ç¬¬ä¸ƒæ­¥ï¼šè¿è¡Œé¡¹ç›®

```bash
npm run dev
```

è¿™ä¼šåŒæ—¶è¿è¡Œï¼š

* Vite å¯åŠ¨ React å¼€å‘æœåŠ¡å™¨
* Electron å¯åŠ¨æ¡Œé¢çª—å£ï¼Œå¹¶åŠ è½½ `http://localhost:5173`

---

## âœ… ç¬¬å…«æ­¥ï¼šæ‰“åŒ…åº”ç”¨ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ éœ€è¦æ„å»ºç”Ÿäº§æ¡Œé¢åº”ç”¨ï¼Œå¯åŠ ä¸Šæ‰“åŒ…å·¥å…·ï¼Œä¾‹å¦‚ï¼š

```bash
npm install electron-builder --save-dev
```

ç„¶ååœ¨ `package.json` ä¸­æ·»åŠ ï¼š

```json
"build": {
  "appId": "com.example.electronreact",
  "files": [
    "dist",
    "electron"
  ],
  "directories": {
    "buildResources": "assets"
  }
}
```

å¹¶è¿è¡Œæ‰“åŒ…å‘½ä»¤ï¼š

```bash
npm run build
```

---

## âœ… ç›®å½•ç»“æ„ç¤ºä¾‹

```
electron-react-app/
â”œâ”€â”€ electron/
â”‚   â”œâ”€â”€ main.js
â”‚   â””â”€â”€ preload.js
â”œâ”€â”€ public/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.jsx
â”‚   â””â”€â”€ main.jsx
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
```

---

## âœ… å°ç»“

ä½ ç°åœ¨æ‹¥æœ‰ä¸€ä¸ªï¼š

* âš¡ï¸ å¿«é€Ÿå¼€å‘ï¼ˆViteï¼‰
* ğŸ¨ ç°ä»£ UIï¼ˆReactï¼‰
* ğŸ–¥ï¸ æ¡Œé¢ç¨‹åºï¼ˆElectronï¼‰

---

éœ€è¦åŠ ä¸Šæ–‡ä»¶è¯»å†™ã€ç³»ç»Ÿè°ƒç”¨ã€SQLiteã€Tray ç­‰åŠŸèƒ½ä¹Ÿå¯ä»¥å‘Šè¯‰æˆ‘ï¼Œæˆ‘å¯ä»¥ç»§ç»­å¸®ä½ æ‰©å±•ã€‚æ˜¯å¦éœ€è¦æˆ‘æ¼”ç¤ºå’Œé›†æˆæŸä¸ªå…·ä½“åŠŸèƒ½ï¼Ÿ
å½“ç„¶å¯ä»¥ï¼ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ï¼Œå±•ç¤ºä½¿ç”¨ **Spring Boot + Hibernate (Spring Data JPA)** å®ç°ä¸€ä¸ªç®€å•çš„ `GET /books/{id}` æ¥å£ï¼Œç”¨äºæ ¹æ®ä¹¦ç± ID æŸ¥è¯¢ Book çš„è¯¦ç»†ä¿¡æ¯ã€‚

------

## âœ… åœºæ™¯ï¼šæŸ¥è¯¢ä¸€æœ¬ä¹¦çš„è¯¦ç»†ä¿¡æ¯

- è¡¨åï¼š`book`
- å­—æ®µï¼š`id`, `title`, `author`, `description`

------

## ğŸ§± 1. å®ä½“ç±» Book.java

```java
import jakarta.persistence.*;

@Entity
@Table(name = "books")
public class Book {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String title;

    private String author;

    private String description;

    // Constructors
    public Book() {}

    public Book(String title, String author, String description) {
        this.title = title;
        this.author = author;
        this.description = description;
    }

    // Getters and Setters
    public Long getId() { return id; }

    public String getTitle() { return title; }

    public void setTitle(String title) { this.title = title; }

    public String getAuthor() { return author; }

    public void setAuthor(String author) { this.author = author; }

    public String getDescription() { return description; }

    public void setDescription(String description) { this.description = description; }
}
```

------

## ğŸ“¦ 2. Repository æ¥å£ BookRepository.java

```java
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;

@Repository
public interface BookRepository extends JpaRepository<Book, Long> {
    // JpaRepository å·²ç»æä¾›äº† findById ç­‰æ–¹æ³•
}
```

------

## ğŸ§  3. Service å±‚ BookService.java

```java
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import java.util.Optional;

@Service
public class BookService {

    private final BookRepository bookRepository;

    @Autowired
    public BookService(BookRepository bookRepository) {
        this.bookRepository = bookRepository;
    }

    public Book getBookById(Long id) {
        return bookRepository.findById(id)
                .orElseThrow(() -> new RuntimeException("Book not found with ID: " + id));
    }
}
```

------

## ğŸŒ 4. Controller å±‚ BookController.java

```java
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping("/books")
public class BookController {

    private final BookService bookService;

    @Autowired
    public BookController(BookService bookService) {
        this.bookService = bookService;
    }

    @GetMapping("/{id}")
    public Book getBookDetails(@PathVariable Long id) {
        return bookService.getBookById(id);
    }
}
```

------

## ğŸ› ï¸ 5. æ•°æ®åº“å»ºè¡¨è¯­å¥ï¼ˆå¯é€‰ï¼‰

```sql
CREATE TABLE books (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(255),
    author VARCHAR(255),
    description TEXT
);
```

------

## ğŸ” è¯·æ±‚ç¤ºä¾‹

**è¯·æ±‚ï¼š**

```http
GET /books/1
```

**å“åº” JSONï¼š**

```json
{
  "id": 1,
  "title": "Spring in Action",
  "author": "Craig Walls",
  "description": "Comprehensive guide to Spring Framework"
}
```

------

## âœ… å®Œæ•´æµç¨‹ç®€è¿°ï¼š

```
Controllerï¼ˆæ¥æ”¶è¯·æ±‚ï¼‰â†’ Serviceï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰â†’ Repositoryï¼ˆJPAæŸ¥è¯¢æ•°æ®åº“ï¼‰â†’ è¿”å›å®ä½“å¯¹è±¡
```

------

å¦‚æœä½ å¸Œæœ›è¿”å›æ›´è½»é‡çš„ç»“æœï¼ˆä¾‹å¦‚ DTOï¼‰ï¼Œæˆ‘ä¹Ÿå¯ä»¥æ¼”ç¤ºå¦‚ä½•åŠ  DTOã€MapStruct ç­‰ã€‚å¦‚æœä½ æƒ³è¦åŠ  Swagger æ–‡æ¡£æˆ–å¼‚å¸¸ç»Ÿä¸€å¤„ç†ï¼Œä¹Ÿå¯ä»¥å‘Šè¯‰æˆ‘ã€‚æ˜¯å¦è¿˜éœ€è¦å¢å¼ºçš„ç‰ˆæœ¬ï¼Ÿ